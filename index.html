<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>diyolab coming soon...</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      color-scheme: dark;
    }

    body {
      overflow: hidden;
      background: #020617;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      color: #e5e7eb;
    }

    /* Particle canvas always behind everything */
    #particles {
      position: fixed;
      inset: 0;
      z-index: -1;
    }

    /* Layer centering */
    .screen-layer {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 100%;
      max-width: 720px;
    }

    .hidden {
      opacity: 0;
      pointer-events: none;
    }

    .visible {
      opacity: 1;
      pointer-events: auto;
    }

    .fade {
      transition: opacity 0.6s ease;
    }

    /* ---------- TERMINAL ---------- */
    .terminal-screen {
      padding: 1.6rem;
      border-radius: 18px;
      background: rgba(2, 6, 23, 0.85);
      border: 1px solid rgba(148,163,184,0.3);
      backdrop-filter: blur(6px);
      box-shadow:
        0 22px 55px rgba(15,23,42,0.8),
        0 0 0 1px rgba(15,23,42,0.6);
    }

    .term-header {
      display: flex;
      justify-content: space-between;
      font-size: 0.75rem;
      margin-bottom: 1rem;
      color: #9ca3af;
      text-transform: uppercase;
      letter-spacing: 0.12em;
    }

    .term-dots {
      display: flex;
      gap: 0.4rem;
    }

    .dot {
      width: 9px;
      height: 9px;
      border-radius: 50%;
    }
    .dot.red { background: #ef4444; }
    .dot.amber { background: #facc15; }
    .dot.green { background: #22c55e; }

    .term-body {
      font-family: "JetBrains Mono", monospace;
      font-size: 0.9rem;
      padding: 1rem;
      background: rgba(2,6,23,0.6);
      border-radius: 10px;
      min-height: 220px;
    }

    .term-line {
      white-space: pre-wrap;
      line-height: 1.45;
    }

    .term-cursor {
      display: inline-block;
      width: 7px;
      height: 1rem;
      background: #e5e7eb;
      margin-left: 2px;
      animation: blink 1s steps(2,start) infinite;
    }

    @keyframes blink {
      0%,40% { opacity: 1 }
      50%,100% { opacity: 0 }
    }

    .term-hint {
      margin-top: 0.8rem;
      font-size: 0.8rem;
      color: #9ca3af;
      opacity: 0;
      transform: translateY(5px);
      transition: 0.3s ease;
    }

    .term-hint.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* ---------- MAIN SCREEN ---------- */
    .main-container {
      text-align: center;
      padding: 1.6rem;
    }

    .logo {
      font-size: 3rem;
      font-weight: 700;
      letter-spacing: 0.16em;
      background: linear-gradient(90deg, #38bdf8, #a855f7, #f97316);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 18px rgba(168,85,247,0.4);
      margin-bottom: 0.3rem;
    }

    .subtitle {
      opacity: 0.75;
      margin-bottom: 1rem;
    }

    .links {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .link-btn {
      padding: 0.55rem 1.1rem;
      border-radius: 999px;
      background: rgba(15,23,42,0.9);
      border: 1px solid rgba(148,163,184,0.45);
      color: #e5e7eb;
      text-decoration: none;
      font-size: 0.85rem;
      backdrop-filter: blur(4px);
      transition: 0.25s ease;
    }

    .link-btn:hover {
      background: rgba(15,23,42,1);
      border-color: rgba(255,255,255,0.7);
      transform: translateY(-2px);
      box-shadow: 0 10px 26px rgba(15,23,42,0.7);
    }
  </style>
</head>
<body>

<canvas id="particles"></canvas>

<!-- TERMINAL -->
<div id="terminal-screen" class="terminal-screen fade visible screen-layer">
  <div class="term-header">
    <div class="term-dots">
      <div class="dot red"></div>
      <div class="dot amber"></div>
      <div class="dot green"></div>
    </div>
    <div>DIYOLAB // bootstrap</div>
    <div>tty01</div>
  </div>

  <div class="term-body">
    <div id="term-output"></div>
    <div id="term-cursor" class="term-cursor"></div>

    <div id="term-hint" class="term-hint">
      Press <span>Enter</span> or <span>Click</span> to continue…
    </div>
  </div>
</div>

<!-- MAIN -->
<div id="main-screen" class="main-container fade hidden screen-layer">
  <div class="logo">DIYOLAB</div>
  <div class="subtitle">Portfolio is coming online soon.</div>

  <div class="links">
    <a href="https://github.com/diyeddin" target="_blank" class="link-btn">GitHub</a>
    <a href="https://www.linkedin.com/in/diyeddinalmohamad" target="_blank" class="link-btn">LinkedIn</a>
  </div>
</div>

<script>
/* ---------- TERMINAL TYPING ---------- */
const out = document.getElementById("term-output");
const cursor = document.getElementById("term-cursor");
const hint = document.getElementById("term-hint");

const terminal = document.getElementById("terminal-screen");
const main = document.getElementById("main-screen");

const lines = [
  "> booting diyolab core…",
  "> loading modules: web-dev, ml-systems, infra…",
  "> initializing particle field…",
  "> linking nodes…",
  "> status: stable.",
  "",
  "diyolab@node-01:~$ ./start_portfolio"
];

let l = 0, c = 0;
let done = false;

function typeChar() {
  if (l >= lines.length) {
    done = true;
    cursor.style.display = "inline-block";
    hint.classList.add("visible");
    return;
  }
  if (c === 0) {
    const el = document.createElement("div");
    el.className = "term-line";
    out.appendChild(el);
  }

  const lineEls = out.getElementsByClassName("term-line");
  const lineEl = lineEls[lineEls.length - 1];

  lineEl.textContent = lines[l].slice(0, c + 1);
  c++;

  if (c < lines[l].length) {
    setTimeout(typeChar, 28 + Math.random() * 35);
  } else {
    l++;
    c = 0;
    setTimeout(typeChar, 240);
  }
}

setTimeout(typeChar, 350);

function showMain() {
  if (!done) return;
  terminal.classList.remove("visible");
  terminal.classList.add("hidden");
  main.classList.remove("hidden");
  main.classList.add("visible");
}

document.addEventListener("keydown", e => {
  if (e.key === "Enter") showMain();
});
document.addEventListener("click", showMain);

/* ---------- PARTICLE LAB FIELD (smooth + spawn on click) ---------- */
const canvas = document.getElementById("particles");
const ctx = canvas.getContext("2d");

let W, H;
function resize() {
  W = canvas.width = window.innerWidth;
  H = canvas.height = window.innerHeight;
}
resize();
window.addEventListener("resize", resize);

const NUM_START = 120;
const nodes = [];
const MAX_DIST = 180;

// Mouse interaction constants
const FORCE_RADIUS = 180;
const FORCE_STRENGTH = 0.004;   // MUCH softer than before
const DRIFT_FORCE = 0.02;

// Base node generator
function createNode(x = Math.random() * W, y = Math.random() * H) {
  return {
    x,
    y,
    vx: (Math.random() - 0.5) * 0.4,
    vy: (Math.random() - 0.5) * 0.4,
    driftAngle: Math.random() * Math.PI * 2,
    driftSpeed: 0.002 + Math.random() * 0.003
  };
}

// Initial nodes
for (let i = 0; i < NUM_START; i++) {
  nodes.push(createNode());
}

// Mouse tracking
let mouse = { x: null, y: null };

window.addEventListener("mousemove", e => {
  mouse.x = e.clientX;
  mouse.y = e.clientY;
});
window.addEventListener("mouseleave", () => {
  mouse.x = mouse.y = null;
});

// CLICK → Spawn new node near cursor
window.addEventListener("click", e => {
  const x = e.clientX;
  const y = e.clientY;

  // Create a cluster of 3 new particles for a nice effect
  for (let i = 0; i < 3; i++) {
    const angle = Math.random() * Math.PI * 2;
    const r = 10 + Math.random() * 25;

    nodes.push(createNode(
      x + Math.cos(angle) * r,
      y + Math.sin(angle) * r
    ));
  }
});

// Animation loop
function tick() {
  ctx.clearRect(0, 0, W, H);

  for (let n of nodes) {

    /* ---- Natural drifting motion ---- */
    n.driftAngle += n.driftSpeed;
    n.vx += Math.cos(n.driftAngle) * DRIFT_FORCE;
    n.vy += Math.sin(n.driftAngle) * DRIFT_FORCE;

    /* ---- Mouse repulsion (soft + smooth) ---- */
    if (mouse.x !== null) {
      const dx = n.x - mouse.x;
      const dy = n.y - mouse.y;
      const dist = Math.sqrt(dx * dx + dy * dy);

      if (dist < FORCE_RADIUS) {
        const f = (1 - dist / FORCE_RADIUS) * FORCE_STRENGTH;
        n.vx += (dx / dist) * f * 40;   // softened from previous version
        n.vy += (dy / dist) * f * 40;
      }
    }

    /* ---- Update position ---- */
    n.x += n.vx;
    n.y += n.vy;

    /* ---- Friction ---- */
    n.vx *= 0.97;
    n.vy *= 0.97;

    /* ---- Screen wrap ---- */
    if (n.x < 0) n.x = W;
    if (n.x > W) n.x = 0;
    if (n.y < 0) n.y = H;
    if (n.y > H) n.y = 0;

    /* ---- Draw node ---- */
    ctx.fillStyle = "rgba(148,163,184,0.9)";
    ctx.beginPath();
    ctx.arc(n.x, n.y, 2.1, 0, Math.PI * 2);
    ctx.fill();
  }

  /* ---- Draw lines ---- */
  for (let i = 0; i < nodes.length; i++) {
    for (let j = i + 1; j < nodes.length; j++) {
      const a = nodes[i];
      const b = nodes[j];

      const dx = a.x - b.x;
      const dy = a.y - b.y;
      const d = Math.sqrt(dx * dx + dy * dy);

      if (d < MAX_DIST) {
        ctx.strokeStyle = "rgba(56,189,248," + (1 - d / MAX_DIST) + ")";
        ctx.lineWidth = 0.7;
        ctx.beginPath();
        ctx.moveTo(a.x, a.y);
        ctx.lineTo(b.x, b.y);
        ctx.stroke();
      }
    }
  }

  requestAnimationFrame(tick);
}
tick();

</script>

</body>
</html>
